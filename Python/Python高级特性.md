### Pythoné«˜çº§ç‰¹æ€§
------
#### **1. ç”Ÿæˆå™¨ä¸è¿­ä»£å™¨**
**ğŸ”‘ çŸ¥è¯†ç‚¹è¯¦è§£**
- **yield å…³é”®å­—ã€ç”Ÿæˆå™¨å‡½æ•°ä¸è¡¨è¾¾å¼**ï¼š
  - **å®šä¹‰**ï¼š`yield` æ˜¯ç”¨äºå®šä¹‰ç”Ÿæˆå™¨çš„å…³é”®å­—ï¼Œç”Ÿæˆå™¨æ˜¯ä¸€ç§æƒ°æ€§è®¡ç®—çš„è¿­ä»£å™¨ã€‚
  - **æ ¸å¿ƒæ€æƒ³**ï¼šé€šè¿‡ `yield` æš‚åœå‡½æ•°æ‰§è¡Œå¹¶è¿”å›å€¼ï¼ŒèŠ‚çœå†…å­˜ã€‚
    ğŸ‘‰ **æ³¨æ„**ï¼šç”Ÿæˆå™¨å‡½æ•°ä½¿ç”¨ `def` å®šä¹‰ï¼Œè€Œç”Ÿæˆå™¨è¡¨è¾¾å¼ç±»ä¼¼äºåˆ—è¡¨æ¨å¯¼å¼ã€‚
- **è¿­ä»£å™¨åè®®ä¸å†…ç½®è¿­ä»£å™¨å‡½æ•°**ï¼š
  - **å®šä¹‰**ï¼šè¿­ä»£å™¨åè®®è¦æ±‚å¯¹è±¡å®ç° `__iter__()` å’Œ `__next__()` æ–¹æ³•ã€‚
  - **æ ¸å¿ƒæ€æƒ³**ï¼šé€šè¿‡è¿­ä»£å™¨é€ä¸ªè®¿é—®é›†åˆä¸­çš„å…ƒç´ ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰æ•°æ®ã€‚
    ğŸ‘‰ **æ³¨æ„**ï¼šå†…ç½®å‡½æ•°å¦‚ `iter()` å’Œ `next()` å¯ç”¨äºæ“ä½œè¿­ä»£å™¨ã€‚

**ğŸ”¥ é¢è¯•é«˜é¢‘é¢˜**
1. ç”Ÿæˆå™¨å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨ç”Ÿæˆå™¨ï¼Ÿ
   - **ä¸€å¥è¯ç­”æ¡ˆ**ï¼šç”Ÿæˆå™¨é€šè¿‡ `yield` æš‚åœæ‰§è¡Œå¹¶è¿”å›å€¼ï¼Œæ™®é€šå‡½æ•°ä¸€æ¬¡æ€§æ‰§è¡Œå®Œæ¯•ã€‚
   - **æ·±å…¥å›ç­”**ï¼šæ™®é€šå‡½æ•°åœ¨è°ƒç”¨æ—¶ä¼šä¸€æ¬¡æ€§æ‰§è¡Œæ‰€æœ‰ä»£ç å¹¶è¿”å›ç»“æœï¼Œè€Œç”Ÿæˆå™¨å‡½æ•°é€šè¿‡ `yield` æš‚åœæ‰§è¡Œå¹¶è¿”å›å€¼ï¼Œæ¯æ¬¡è°ƒç”¨ `next()` æ—¶ä»ä¸Šæ¬¡æš‚åœçš„ä½ç½®ç»§ç»­æ‰§è¡Œã€‚ç”Ÿæˆå™¨ç‰¹åˆ«é€‚åˆå¤„ç†å¤§æ•°æ®é›†æˆ–æµå¼æ•°æ®ï¼Œå› ä¸ºå®ƒä¸ä¼šä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰æ•°æ®åˆ°å†…å­˜ä¸­ã€‚ä¾‹å¦‚ï¼š
     ```python
     def generate_numbers(n):
         for i in range(n):
             yield i
     
     gen = generate_numbers(5)
     print(next(gen))  # è¾“å‡º: 0
     print(next(gen))  # è¾“å‡º: 1
     ```

2. å¦‚ä½•å®ç°è‡ªå®šä¹‰è¿­ä»£å™¨ï¼Ÿè¿­ä»£å™¨åè®®çš„æ ¸å¿ƒæ˜¯ä»€ä¹ˆï¼Ÿ
   - **ä¸€å¥è¯ç­”æ¡ˆ**ï¼šé€šè¿‡å®ç° `__iter__()` å’Œ `__next__()` æ–¹æ³•åˆ›å»ºè‡ªå®šä¹‰è¿­ä»£å™¨ã€‚
   - **æ·±å…¥å›ç­”**ï¼šè¿­ä»£å™¨åè®®è¦æ±‚å¯¹è±¡å®ç°ä¸¤ä¸ªæ–¹æ³•ï¼š
     - `__iter__()`ï¼šè¿”å›è¿­ä»£å™¨å¯¹è±¡æœ¬èº«ã€‚
     - `__next__()`ï¼šè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè‹¥æ— æ›´å¤šå…ƒç´ åˆ™æŠ›å‡º `StopIteration` å¼‚å¸¸ã€‚
     è‡ªå®šä¹‰è¿­ä»£å™¨å¯ä»¥ç”¨äºæ§åˆ¶é›†åˆçš„éå†é€»è¾‘ã€‚ä¾‹å¦‚ï¼š
     ```python
     class MyIterator:
         def __init__(self, data):
             self.data = data
             self.index = 0
     
         def __iter__(self):
             return self
     
         def __next__(self):
             if self.index >= len(self.data):
                 raise StopIteration
             value = self.data[self.index]
             self.index += 1
             return value
     
     iterator = MyIterator([1, 2, 3])
     for num in iterator:
         print(num)  # è¾“å‡º: 1, 2, 3
     ```

**ğŸŒŸ é‡ç‚¹æé†’**
- **è¦ç‚¹ä¸€**ï¼šç”Ÿæˆå™¨é€šè¿‡ `yield` å®ç°æƒ°æ€§è®¡ç®—ï¼ŒèŠ‚çœå†…å­˜ã€‚
- **è¦ç‚¹äºŒ**ï¼šè¿­ä»£å™¨åè®®è¦æ±‚å®ç° `__iter__()` å’Œ `__next__()` æ–¹æ³•ã€‚
- **è¦ç‚¹ä¸‰**ï¼šç”Ÿæˆå™¨è¡¨è¾¾å¼æ˜¯ç”Ÿæˆå™¨çš„ç®€æ´å½¢å¼ï¼Œç±»ä¼¼äºåˆ—è¡¨æ¨å¯¼å¼ã€‚

**ğŸ“ å®è·µç»éªŒ**
```python
# ç”Ÿæˆå™¨å‡½æ•°ç¤ºä¾‹
def fibonacci(limit):
    a, b = 0, 1
    while a < limit:
        yield a
        a, b = b, a + b

for num in fibonacci(10):
    print(num)  # è¾“å‡º: 0, 1, 1, 2, 3, 5, 8

# ç”Ÿæˆå™¨è¡¨è¾¾å¼ç¤ºä¾‹
squares = (x ** 2 for x in range(5))
print(next(squares))  # è¾“å‡º: 0
print(next(squares))  # è¾“å‡º: 1
```

**ğŸ”§ å·¥å…·è¾…åŠ©**
```mermaid
graph TD
    A[ç”Ÿæˆå™¨ä¸è¿­ä»£å™¨] --> B[yield å…³é”®å­—]
    A --> C[ç”Ÿæˆå™¨å‡½æ•°]
    A --> D[ç”Ÿæˆå™¨è¡¨è¾¾å¼]
    A --> E[è¿­ä»£å™¨åè®®]
    E --> F[__iter__ æ–¹æ³•]
    E --> G[__next__ æ–¹æ³•]
```

------
#### **2. ä¸Šä¸‹æ–‡ç®¡ç†å™¨**
**ğŸ”‘ çŸ¥è¯†ç‚¹è¯¦è§£**
- **withè¯­å¥çš„åŸç†ä¸å®ç°**ï¼š
  - **å®šä¹‰**ï¼š`with` è¯­å¥é€šè¿‡ä¸Šä¸‹æ–‡ç®¡ç†å™¨è‡ªåŠ¨ç®¡ç†èµ„æºï¼ˆå¦‚æ–‡ä»¶ã€é”ï¼‰çš„è·å–å’Œé‡Šæ”¾ã€‚
  - **æ ¸å¿ƒæ€æƒ³**ï¼šé€šè¿‡ `__enter__()` å’Œ `__exit__()` æ–¹æ³•å®ç°èµ„æºçš„åˆå§‹åŒ–å’Œæ¸…ç†ã€‚
    ğŸ‘‰ **æ³¨æ„**ï¼š`with` è¯­å¥ç¡®ä¿å³ä½¿å‘ç”Ÿå¼‚å¸¸ä¹Ÿèƒ½æ­£ç¡®é‡Šæ”¾èµ„æºã€‚
- **è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨**ï¼š
  - **å®šä¹‰**ï¼šé€šè¿‡å®ç° `__enter__()` å’Œ `__exit__()` æ–¹æ³•åˆ›å»ºè‡ªå®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨ã€‚
  - **æ ¸å¿ƒæ€æƒ³**ï¼šå°è£…èµ„æºç®¡ç†é€»è¾‘ï¼Œæå‡ä»£ç çš„å¯è¯»æ€§å’Œå®‰å…¨æ€§ã€‚
    ğŸ‘‰ **æ³¨æ„**ï¼šä¹Ÿå¯ä»¥ä½¿ç”¨ `contextlib` æ¨¡å—ç®€åŒ–ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„å®ç°ã€‚

**ğŸ”¥ é¢è¯•é«˜é¢‘é¢˜**
1. `with` è¯­å¥çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Ÿ
   - **ä¸€å¥è¯ç­”æ¡ˆ**ï¼š`with` è¯­å¥é€šè¿‡ä¸Šä¸‹æ–‡ç®¡ç†å™¨è‡ªåŠ¨ç®¡ç†èµ„æºï¼Œè‡ªå®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨éœ€å®ç° `__enter__()` å’Œ `__exit__()` æ–¹æ³•ã€‚
   - **æ·±å…¥å›ç­”**ï¼š`with` è¯­å¥çš„æ ¸å¿ƒä½œç”¨æ˜¯é€šè¿‡ä¸Šä¸‹æ–‡ç®¡ç†å™¨è‡ªåŠ¨ç®¡ç†èµ„æºçš„è·å–å’Œé‡Šæ”¾ï¼Œç¡®ä¿å³ä½¿å‘ç”Ÿå¼‚å¸¸ä¹Ÿèƒ½æ­£ç¡®æ¸…ç†èµ„æºã€‚å®ç°è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„åŸºæœ¬æ­¥éª¤åŒ…æ‹¬ï¼š
     1. å®šä¹‰ç±»å¹¶å®ç° `__enter__()` æ–¹æ³•ï¼Œç”¨äºåˆå§‹åŒ–èµ„æºã€‚
     2. å®ç° `__exit__()` æ–¹æ³•ï¼Œç”¨äºé‡Šæ”¾èµ„æºã€‚
     3. åœ¨ `with` è¯­å¥ä¸­ä½¿ç”¨è¯¥ä¸Šä¸‹æ–‡ç®¡ç†å™¨ã€‚
     ```python
     class FileHandler:
         def __init__(self, filename, mode):
             self.filename = filename
             self.mode = mode
     
         def __enter__(self):
             self.file = open(self.filename, self.mode)
             return self.file
     
         def __exit__(self, exc_type, exc_val, exc_tb):
             self.file.close()
     
     with FileHandler("example.txt", "w") as f:
         f.write("Hello, World!")
     ```

2. å¦‚ä½•ä½¿ç”¨ `contextlib` ç®€åŒ–ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Ÿ
   - **ä¸€å¥è¯ç­”æ¡ˆ**ï¼šé€šè¿‡ `@contextmanager` è£…é¥°å™¨å°†å‡½æ•°è½¬æ¢ä¸ºä¸Šä¸‹æ–‡ç®¡ç†å™¨ã€‚
   - **æ·±å…¥å›ç­”**ï¼š`contextlib` æ¨¡å—æä¾›äº†ä¸€ä¸ªè£…é¥°å™¨ `@contextmanager`ï¼Œå¯ä»¥å°†æ™®é€šå‡½æ•°è½¬æ¢ä¸ºä¸Šä¸‹æ–‡ç®¡ç†å™¨ã€‚è¿™ç§æ–¹å¼æ¯”æ‰‹åŠ¨å®ç° `__enter__()` å’Œ `__exit__()` æ›´åŠ ç®€æ´ã€‚ä¾‹å¦‚ï¼š
     ```python
     from contextlib import contextmanager
     
     @contextmanager
     def file_handler(filename, mode):
         file = open(filename, mode)
         try:
             yield file
         finally:
             file.close()
     
     with file_handler("example.txt", "w") as f:
         f.write("Hello, World!")
     ```

**ğŸŒŸ é‡ç‚¹æé†’**
- **è¦ç‚¹ä¸€**ï¼š`with` è¯­å¥é€šè¿‡ä¸Šä¸‹æ–‡ç®¡ç†å™¨è‡ªåŠ¨ç®¡ç†èµ„æºã€‚
- **è¦ç‚¹äºŒ**ï¼šè‡ªå®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨éœ€å®ç° `__enter__()` å’Œ `__exit__()` æ–¹æ³•ã€‚
- **è¦ç‚¹ä¸‰**ï¼š`contextlib` æä¾›äº†ç®€åŒ–çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨å®ç°æ–¹å¼ã€‚

**ğŸ“ å®è·µç»éªŒ**
```python
# è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨ç¤ºä¾‹
class Timer:
    def __enter__(self):
        self.start_time = time.time()
        return self

    def __exit__(self, exc_type, exc_val, exc_tb):
        self.end_time = time.time()
        print(f"Elapsed time: {self.end_time - self.start_time:.4f} seconds")

with Timer():
    time.sleep(1)

# ä½¿ç”¨ contextlib ç¤ºä¾‹
from contextlib import contextmanager

@contextmanager
def timer():
    start_time = time.time()
    try:
        yield
    finally:
        end_time = time.time()
        print(f"Elapsed time: {end_time - start_time:.4f} seconds")

with timer():
    time.sleep(1)
```

**ğŸ”§ å·¥å…·è¾…åŠ©**
```mermaid
graph TD
    A[ä¸Šä¸‹æ–‡ç®¡ç†å™¨] --> B[with è¯­å¥]
    A --> C[è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨]
    A --> D[contextlib]
    C --> E[__enter__ æ–¹æ³•]
    C --> F[__exit__ æ–¹æ³•]
    D --> G[contextmanager]
```

------
#### **3. å¼‚æ­¥ç¼–ç¨‹**
**ğŸ”‘ çŸ¥è¯†ç‚¹è¯¦è§£**
- **async/await åŸºç¡€**ï¼š
  - **å®šä¹‰**ï¼š`async` ç”¨äºå®šä¹‰å¼‚æ­¥å‡½æ•°ï¼Œ`await` ç”¨äºç­‰å¾…å¼‚æ­¥æ“ä½œå®Œæˆã€‚
  - **æ ¸å¿ƒæ€æƒ³**ï¼šé€šè¿‡åç¨‹å®ç°éé˜»å¡ I/O æ“ä½œï¼Œæå‡ç¨‹åºæ€§èƒ½ã€‚
    ğŸ‘‰ **æ³¨æ„**ï¼šå¼‚æ­¥å‡½æ•°å¿…é¡»é€šè¿‡äº‹ä»¶å¾ªç¯è¿è¡Œã€‚
- **å¼‚æ­¥ I/O ä¸åç¨‹**ï¼š
  - **å®šä¹‰**ï¼šå¼‚æ­¥ I/O æ˜¯ä¸€ç§éé˜»å¡çš„è¾“å…¥è¾“å‡ºæ“ä½œï¼Œåç¨‹æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„åŸºæœ¬å•å…ƒã€‚
  - **æ ¸å¿ƒæ€æƒ³**ï¼šé€šè¿‡ `asyncio` æ¨¡å—ç®¡ç†åç¨‹å’Œäº‹ä»¶å¾ªç¯ã€‚
    ğŸ‘‰ **æ³¨æ„**ï¼šå¼‚æ­¥ç¼–ç¨‹é€‚åˆé«˜å¹¶å‘åœºæ™¯ï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶è¯»å†™ï¼‰ã€‚

**ğŸ”¥ é¢è¯•é«˜é¢‘é¢˜**
1. `async/await` çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•è¿è¡Œå¼‚æ­¥å‡½æ•°ï¼Ÿ
   - **ä¸€å¥è¯ç­”æ¡ˆ**ï¼š`async/await` ç”¨äºå®šä¹‰å’Œè°ƒç”¨å¼‚æ­¥å‡½æ•°ï¼Œé€šè¿‡äº‹ä»¶å¾ªç¯è¿è¡Œã€‚
   - **æ·±å…¥å›ç­”**ï¼š`async` å…³é”®å­—ç”¨äºå®šä¹‰å¼‚æ­¥å‡½æ•°ï¼Œ`await` ç”¨äºç­‰å¾…å¼‚æ­¥æ“ä½œå®Œæˆã€‚å¼‚æ­¥å‡½æ•°ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªåç¨‹å¯¹è±¡ï¼Œéœ€è¦é€šè¿‡äº‹ä»¶å¾ªç¯ï¼ˆå¦‚ `asyncio.run()`ï¼‰è¿è¡Œã€‚ä¾‹å¦‚ï¼š
     ```python
     import asyncio
     
     async def say_hello():
         print("Hello")
         await asyncio.sleep(1)
         print("World")
     
     asyncio.run(say_hello())
     ```
     åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ`say_hello` æ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œ`await asyncio.sleep(1)` æ¨¡æ‹Ÿéé˜»å¡æ“ä½œï¼Œ`asyncio.run()` å¯åŠ¨äº‹ä»¶å¾ªç¯ã€‚

2. å¼‚æ­¥ I/O çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°é«˜å¹¶å‘ï¼Ÿ
   - **ä¸€å¥è¯ç­”æ¡ˆ**ï¼šå¼‚æ­¥ I/O é€šè¿‡éé˜»å¡æ“ä½œæå‡æ€§èƒ½ï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯ã€‚
   - **æ·±å…¥å›ç­”**ï¼šå¼‚æ­¥ I/O çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå…¶èƒ½å¤ŸåŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ï¼Œè€Œæ— éœ€ä¸ºæ¯ä¸ªä»»åŠ¡åˆ†é…ç‹¬ç«‹çº¿ç¨‹ã€‚é€šè¿‡ `asyncio` æ¨¡å—ï¼Œå¯ä»¥è½»æ¾å®ç°é«˜å¹¶å‘æ“ä½œã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç åŒæ—¶å‘èµ·å¤šä¸ªç½‘ç»œè¯·æ±‚ï¼š
     ```python
     import asyncio
     import aiohttp
     
     async def fetch_url(session, url):
         async with session.get(url) as response:
             return await response.text()
     
     async def main():
         urls = ["https://example.com", "https://httpbin.org/get"]
         async with aiohttp.ClientSession() as session:
             tasks = [fetch_url(session, url) for url in urls]
             results = await asyncio.gather(*tasks)
             for result in results:
                 print(len(result))
     
     asyncio.run(main())
     ```

**ğŸŒŸ é‡ç‚¹æé†’**
- **è¦ç‚¹ä¸€**ï¼š`async/await` ç”¨äºå®šä¹‰å’Œè°ƒç”¨å¼‚æ­¥å‡½æ•°ã€‚
- **è¦ç‚¹äºŒ**ï¼šå¼‚æ­¥ I/O é€šè¿‡éé˜»å¡æ“ä½œæå‡æ€§èƒ½ã€‚
- **è¦ç‚¹ä¸‰**ï¼š`asyncio` æ¨¡å—æ˜¯å®ç°å¼‚æ­¥ç¼–ç¨‹çš„æ ¸å¿ƒå·¥å…·ã€‚

**ğŸ“ å®è·µç»éªŒ**
```python
# å¼‚æ­¥å‡½æ•°ç¤ºä¾‹
import asyncio

async def count():
    print("One")
    await asyncio.sleep(1)
    print("Two")

async def main():
    await asyncio.gather(count(), count(), count())

asyncio.run(main())

# å¼‚æ­¥ I/O ç¤ºä¾‹
import asyncio
import aiohttp

async def fetch_url(session, url):
    async with session.get(url) as response:
        return await response.text()

async def main():
    urls = ["https://example.com", "https://httpbin.org/get"]
    async with aiohttp.ClientSession() as session:
        tasks = [fetch_url(session, url) for url in urls]
        results = await asyncio.gather(*tasks)
        for result in results:
            print(len(result))

asyncio.run(main())
```

**ğŸ”§ å·¥å…·è¾…åŠ©**
```mermaid
graph TD
    A[å¼‚æ­¥ç¼–ç¨‹] --> B[async/await]
    A --> C[å¼‚æ­¥ I/O]
    A --> D[åç¨‹]
    B --> E[å¼‚æ­¥å‡½æ•°]
    B --> F[äº‹ä»¶å¾ªç¯]
    C --> G[éé˜»å¡æ“ä½œ]
    D --> H[asyncio æ¨¡å—]
```

**ğŸ’¡ å¤ä¹ å»ºè®®**
1. æŒæ¡ç”Ÿæˆå™¨ä¸è¿­ä»£å™¨çš„åŸºæœ¬æ¦‚å¿µåŠå…¶åº”ç”¨åœºæ™¯ã€‚
2. å­¦ä¹ ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„å®ç°æ–¹å¼ï¼Œç†Ÿæ‚‰ `with` è¯­å¥çš„åŸç†ã€‚
3. ç†è§£å¼‚æ­¥ç¼–ç¨‹çš„æ ¸å¿ƒæ¦‚å¿µï¼ŒæŒæ¡ `async/await` å’Œ `asyncio` çš„ä½¿ç”¨æ–¹æ³•ã€‚