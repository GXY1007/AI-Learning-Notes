### IoC ä¸ DI
------
#### **1. IoCï¼ˆæ§åˆ¶åè½¬ï¼‰ä¸ DIï¼ˆä¾èµ–æ³¨å…¥ï¼‰**
**ğŸ”‘ çŸ¥è¯†ç‚¹è¯¦è§£**
- **IoCï¼ˆæ§åˆ¶åè½¬ï¼‰**ï¼š
  - **å®šä¹‰**ï¼šIoC æ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼Œå°†å¯¹è±¡çš„åˆ›å»ºå’Œç®¡ç†äº¤ç»™æ¡†æ¶æˆ–å®¹å™¨ï¼Œè€Œä¸æ˜¯ç”±å¼€å‘è€…æ‰‹åŠ¨æ§åˆ¶ã€‚
  - **æ ¸å¿ƒæ€æƒ³**ï¼šé€šè¿‡å®¹å™¨ç®¡ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå’Œä¾èµ–å…³ç³»ï¼Œé™ä½ä»£ç è€¦åˆåº¦ã€‚
    ğŸ‘‰ **æ³¨æ„**ï¼šIoC çš„å®ç°æ–¹å¼åŒ…æ‹¬ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰ã€å·¥å‚æ¨¡å¼ç­‰ã€‚
- **DIï¼ˆä¾èµ–æ³¨å…¥ï¼‰**ï¼š
  - **å®šä¹‰**ï¼šDI æ˜¯ IoC çš„å…·ä½“å®ç°æ–¹å¼ä¹‹ä¸€ï¼Œé€šè¿‡æ„é€ å‡½æ•°ã€Setter æ–¹æ³•æˆ–æ¥å£æ³¨å…¥ä¾èµ–ã€‚
  - **æ ¸å¿ƒæ€æƒ³**ï¼šå°†å¯¹è±¡æ‰€éœ€çš„ä¾èµ–é€šè¿‡å¤–éƒ¨æ³¨å…¥ï¼Œè€Œéåœ¨ç±»å†…éƒ¨ç›´æ¥åˆ›å»ºã€‚
    ğŸ‘‰ **æ³¨æ„**ï¼šDI æå‡äº†ä»£ç çš„å¯æµ‹è¯•æ€§å’Œçµæ´»æ€§ã€‚

**ğŸ”¥ é¢è¯•é«˜é¢‘é¢˜**
1. IoC å’Œ DI çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
   - **ä¸€å¥è¯ç­”æ¡ˆ**ï¼šIoC æ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼ŒDI æ˜¯å…¶å®ç°æ–¹å¼ä¹‹ä¸€ã€‚
   - **æ·±å…¥å›ç­”**ï¼šIoC çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†å¯¹è±¡çš„åˆ›å»ºå’Œç®¡ç†äº¤ç»™å®¹å™¨ï¼Œè€Œ DI æ˜¯ IoC çš„å…·ä½“å®ç°æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œåœ¨ Spring æ¡†æ¶ä¸­ï¼ŒIoC å®¹å™¨è´Ÿè´£ç®¡ç† Bean çš„ç”Ÿå‘½å‘¨æœŸå’Œä¾èµ–å…³ç³»ï¼Œè€Œ DI åˆ™é€šè¿‡æ„é€ å‡½æ•°ã€Setter æ–¹æ³•æˆ–æ¥å£å°†ä¾èµ–æ³¨å…¥åˆ°å¯¹è±¡ä¸­ã€‚è¿™ç§æ–¹å¼é™ä½äº†ä»£ç çš„è€¦åˆåº¦ï¼Œæå‡äº†å¯ç»´æŠ¤æ€§å’Œå¯æµ‹è¯•æ€§ã€‚

2. å¦‚ä½•é€šè¿‡ DI å®ç°æ¾è€¦åˆï¼Ÿ
   - **ä¸€å¥è¯ç­”æ¡ˆ**ï¼šé€šè¿‡å¤–éƒ¨æ³¨å…¥ä¾èµ–ï¼Œé¿å…ç±»å†…éƒ¨ç›´æ¥åˆ›å»ºä¾èµ–å¯¹è±¡ã€‚
   - **æ·±å…¥å›ç­”**ï¼šDI çš„æ ¸å¿ƒä½œç”¨æ˜¯é€šè¿‡å¤–éƒ¨æ³¨å…¥ä¾èµ–ï¼Œä½¿ç±»æ— éœ€å…³å¿ƒä¾èµ–çš„åˆ›å»ºè¿‡ç¨‹ï¼Œä»è€Œå®ç°æ¾è€¦åˆã€‚ä¾‹å¦‚ï¼š
     ```java
     public class UserService {
         private UserRepository userRepository;
     
         // æ„é€ å‡½æ•°æ³¨å…¥
         public UserService(UserRepository userRepository) {
             this.userRepository = userRepository;
         }
     
         public void addUser(String username) {
             userRepository.save(username);
         }
     }
     ```
     åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ`UserService` ä¸å†ç›´æ¥åˆ›å»º `UserRepository`ï¼Œè€Œæ˜¯é€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥ä¾èµ–ã€‚è¿™ç§æ–¹å¼ä¸ä»…æå‡äº†ä»£ç çš„çµæ´»æ€§ï¼Œè¿˜ä¾¿äºå•å…ƒæµ‹è¯•ã€‚

**ğŸŒŸ é‡ç‚¹æé†’**
- **è¦ç‚¹ä¸€**ï¼šIoC æ˜¯è®¾è®¡æ€æƒ³ï¼ŒDI æ˜¯å…¶å…·ä½“å®ç°æ–¹å¼ã€‚
- **è¦ç‚¹äºŒ**ï¼šDI é€šè¿‡å¤–éƒ¨æ³¨å…¥ä¾èµ–å®ç°æ¾è€¦åˆã€‚
- **è¦ç‚¹ä¸‰**ï¼šSpring æ¡†æ¶é€šè¿‡ IoC å®¹å™¨ç®¡ç† Bean å’Œä¾èµ–ã€‚

**ğŸ“ å®è·µç»éªŒ**
```java
// æ„é€ å‡½æ•°æ³¨å…¥ç¤ºä¾‹
@Service
public class OrderService {
    private final PaymentService paymentService;

    @Autowired
    public OrderService(PaymentService paymentService) {
        this.paymentService = paymentService;
    }

    public void processOrder() {
        paymentService.processPayment();
    }
}

// Setter æ³¨å…¥ç¤ºä¾‹
@Service
public class NotificationService {
    private EmailService emailService;

    @Autowired
    public void setEmailService(EmailService emailService) {
        this.emailService = emailService;
    }

    public void sendNotification() {
        emailService.sendEmail();
    }
}
```

**ğŸ”§ å·¥å…·è¾…åŠ©**
```mermaid
graph TD
    A[IoC ä¸ DI] --> B[IoC]
    A --> C[DI]
    B --> D[å®¹å™¨ç®¡ç†]
    C --> E[æ„é€ å‡½æ•°æ³¨å…¥]
    C --> F[Setter æ³¨å…¥]
    C --> G[æ¥å£æ³¨å…¥]
```

------
#### **2. Bean ç”Ÿå‘½å‘¨æœŸ**
**ğŸ”‘ çŸ¥è¯†ç‚¹è¯¦è§£**
- **Bean ç”Ÿå‘½å‘¨æœŸé˜¶æ®µ**ï¼š
  1. **å®ä¾‹åŒ–**ï¼šå®¹å™¨é€šè¿‡åå°„åˆ›å»º Bean å®ä¾‹ã€‚
  2. **å±æ€§èµ‹å€¼**ï¼šå®¹å™¨ä¸º Bean çš„å±æ€§æ³¨å…¥ä¾èµ–ã€‚
  3. **åˆå§‹åŒ–**ï¼šè°ƒç”¨ `@PostConstruct` æˆ– `InitializingBean` çš„ `afterPropertiesSet()` æ–¹æ³•ã€‚
  4. **ä½¿ç”¨**ï¼šBean å¯ä¾›åº”ç”¨ç¨‹åºä½¿ç”¨ã€‚
  5. **é”€æ¯**ï¼šè°ƒç”¨ `@PreDestroy` æˆ– `DisposableBean` çš„ `destroy()` æ–¹æ³•ã€‚
      ğŸ‘‰ **æ³¨æ„**ï¼šç”Ÿå‘½å‘¨æœŸæ–¹æ³•å¯é€šè¿‡æ³¨è§£æˆ–æ¥å£å®ç°ã€‚

**ğŸ”¥ é¢è¯•é«˜é¢‘é¢˜**
1. Spring ä¸­ Bean çš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›é˜¶æ®µï¼Ÿ
   - **ä¸€å¥è¯ç­”æ¡ˆ**ï¼šBean çš„ç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬å®ä¾‹åŒ–ã€å±æ€§èµ‹å€¼ã€åˆå§‹åŒ–ã€ä½¿ç”¨å’Œé”€æ¯ã€‚
   - **æ·±å…¥å›ç­”**ï¼šSpring å®¹å™¨ç®¡ç† Bean çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹é˜¶æ®µï¼š
     1. **å®ä¾‹åŒ–**ï¼šå®¹å™¨é€šè¿‡åå°„æœºåˆ¶åˆ›å»º Bean å®ä¾‹ã€‚
     2. **å±æ€§èµ‹å€¼**ï¼šå®¹å™¨æ ¹æ®é…ç½®ä¸º Bean çš„å±æ€§æ³¨å…¥ä¾èµ–ã€‚
     3. **åˆå§‹åŒ–**ï¼šè°ƒç”¨ `@PostConstruct` æ³¨è§£çš„æ–¹æ³•æˆ–å®ç° `InitializingBean` æ¥å£çš„ `afterPropertiesSet()` æ–¹æ³•ã€‚
     4. **ä½¿ç”¨**ï¼šBean è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œå¯ä¾›åº”ç”¨ç¨‹åºä½¿ç”¨ã€‚
     5. **é”€æ¯**ï¼šå®¹å™¨å…³é—­æ—¶è°ƒç”¨ `@PreDestroy` æ³¨è§£çš„æ–¹æ³•æˆ–å®ç° `DisposableBean` æ¥å£çš„ `destroy()` æ–¹æ³•ã€‚
     ```java
     @Component
     public class MyBean implements InitializingBean, DisposableBean {
         @PostConstruct
         public void init() {
             System.out.println("Initialization logic");
         }
     
         @Override
         public void afterPropertiesSet() throws Exception {
             System.out.println("After properties set");
         }
     
         @PreDestroy
         public void destroyBean() {
             System.out.println("Destruction logic");
         }
     
         @Override
         public void destroy() throws Exception {
             System.out.println("Destroy method");
         }
     }
     ```

2. å¦‚ä½•è‡ªå®šä¹‰ Bean çš„åˆå§‹åŒ–å’Œé”€æ¯é€»è¾‘ï¼Ÿ
   - **ä¸€å¥è¯ç­”æ¡ˆ**ï¼šé€šè¿‡ `@PostConstruct`ã€`@PreDestroy` æˆ–å®ç° `InitializingBean` å’Œ `DisposableBean` æ¥å£ã€‚
   - **æ·±å…¥å›ç­”**ï¼šSpring æä¾›äº†å¤šç§æ–¹å¼è‡ªå®šä¹‰ Bean çš„åˆå§‹åŒ–å’Œé”€æ¯é€»è¾‘ï¼š
     - ä½¿ç”¨æ³¨è§£ï¼š`@PostConstruct` å’Œ `@PreDestroy`ã€‚
     - å®ç°æ¥å£ï¼š`InitializingBean` å’Œ `DisposableBean`ã€‚
     - XML é…ç½®ï¼šé€šè¿‡ `init-method` å’Œ `destroy-method` å±æ€§æŒ‡å®šæ–¹æ³•ã€‚ä¾‹å¦‚ï¼š
       ```xml
       <bean id="myBean" class="com.example.MyBean" init-method="init" destroy-method="destroy"/>
       ```

**ğŸŒŸ é‡ç‚¹æé†’**
- **è¦ç‚¹ä¸€**ï¼šBean ç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬å®ä¾‹åŒ–ã€å±æ€§èµ‹å€¼ã€åˆå§‹åŒ–ã€ä½¿ç”¨å’Œé”€æ¯ã€‚
- **è¦ç‚¹äºŒ**ï¼šç”Ÿå‘½å‘¨æœŸæ–¹æ³•å¯é€šè¿‡æ³¨è§£ã€æ¥å£æˆ– XML é…ç½®å®ç°ã€‚
- **è¦ç‚¹ä¸‰**ï¼šSpring å®¹å™¨è´Ÿè´£ç®¡ç† Bean çš„ç”Ÿå‘½å‘¨æœŸã€‚

**ğŸ“ å®è·µç»éªŒ**
```java
@Component
public class LifecycleBean {
    public LifecycleBean() {
        System.out.println("Instance created");
    }

    @PostConstruct
    public void init() {
        System.out.println("Initialization logic");
    }

    @PreDestroy
    public void destroy() {
        System.out.println("Destruction logic");
    }
}
```

**ğŸ”§ å·¥å…·è¾…åŠ©**
```mermaid
graph TD
    A[Bean ç”Ÿå‘½å‘¨æœŸ] --> B[å®ä¾‹åŒ–]
    A --> C[å±æ€§èµ‹å€¼]
    A --> D[åˆå§‹åŒ–]
    A --> E[ä½¿ç”¨]
    A --> F[é”€æ¯]
    D --> G[PostConstruct]
    D --> H[InitializingBean]
    F --> I[PreDestroy]
    F --> J[DisposableBean]
```

------
#### **3. å¾ªç¯ä¾èµ–è§£å†³ï¼šä¸‰çº§ç¼“å­˜**
**ğŸ”‘ çŸ¥è¯†ç‚¹è¯¦è§£**
- **å¾ªç¯ä¾èµ–é—®é¢˜**ï¼š
  - **å®šä¹‰**ï¼šä¸¤ä¸ªæˆ–å¤šä¸ª Bean ç›¸äº’ä¾èµ–ï¼Œå¯¼è‡´æ— æ³•å®Œæˆåˆå§‹åŒ–ã€‚
  - **æ ¸å¿ƒæ€æƒ³**ï¼šSpring é€šè¿‡ä¸‰çº§ç¼“å­˜è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜ã€‚
    ğŸ‘‰ **æ³¨æ„**ï¼šä¸‰çº§ç¼“å­˜åŒ…æ‹¬å•ä¾‹æ± ã€æ—©æœŸæš´éœ²å¯¹è±¡å’Œä»£ç†å¯¹è±¡ã€‚
- **ä¸‰çº§ç¼“å­˜æœºåˆ¶**ï¼š
  1. **ä¸€çº§ç¼“å­˜ï¼ˆå•ä¾‹æ± ï¼‰**ï¼šå­˜æ”¾å®Œå…¨åˆå§‹åŒ–çš„ Beanã€‚
  2. **äºŒçº§ç¼“å­˜ï¼ˆæ—©æœŸæš´éœ²å¯¹è±¡ï¼‰**ï¼šå­˜æ”¾æœªå®Œæˆåˆå§‹åŒ–ä½†å·²å®ä¾‹åŒ–çš„ Beanã€‚
  3. **ä¸‰çº§ç¼“å­˜ï¼ˆä»£ç†å¯¹è±¡ï¼‰**ï¼šå­˜æ”¾ä»£ç†å¯¹è±¡ä»¥æ”¯æŒ AOPã€‚

**ğŸ”¥ é¢è¯•é«˜é¢‘é¢˜**
1. Spring å¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜ï¼Ÿ
   - **ä¸€å¥è¯ç­”æ¡ˆ**ï¼šSpring é€šè¿‡ä¸‰çº§ç¼“å­˜è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜ã€‚
   - **æ·±å…¥å›ç­”**ï¼šSpring çš„ä¸‰çº§ç¼“å­˜æœºåˆ¶åŒ…æ‹¬ï¼š
     1. **ä¸€çº§ç¼“å­˜ï¼ˆå•ä¾‹æ± ï¼‰**ï¼šå­˜æ”¾å®Œå…¨åˆå§‹åŒ–çš„ Beanã€‚
     2. **äºŒçº§ç¼“å­˜ï¼ˆæ—©æœŸæš´éœ²å¯¹è±¡ï¼‰**ï¼šå½“ä¸€ä¸ª Bean å°šæœªå®Œæˆåˆå§‹åŒ–ä½†å·²è¢«å®ä¾‹åŒ–æ—¶ï¼Œå°†å…¶æ”¾å…¥äºŒçº§ç¼“å­˜ï¼Œä¾›å…¶ä»– Bean ä½¿ç”¨ã€‚
     3. **ä¸‰çº§ç¼“å­˜ï¼ˆä»£ç†å¯¹è±¡ï¼‰**ï¼šå¦‚æœ Bean éœ€è¦ä»£ç†ï¼ˆå¦‚ AOPï¼‰ï¼Œåˆ™åœ¨ä¸‰çº§ç¼“å­˜ä¸­å­˜å‚¨ä»£ç†å¯¹è±¡ã€‚
     å½“å‘ç”Ÿå¾ªç¯ä¾èµ–æ—¶ï¼ŒSpring å…ˆä»ä¸€çº§ç¼“å­˜æŸ¥æ‰¾ï¼Œè‹¥ä¸å­˜åœ¨åˆ™å°è¯•ä»äºŒçº§ç¼“å­˜è·å–æ—©æœŸæš´éœ²å¯¹è±¡ï¼Œæœ€åä»ä¸‰çº§ç¼“å­˜è·å–ä»£ç†å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š
     ```java
     @Component
     public class BeanA {
         @Autowired
         private BeanB beanB;
     }
     
     @Component
     public class BeanB {
         @Autowired
         private BeanA beanA;
     }
     ```
     åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ`BeanA` å’Œ `BeanB` ç›¸äº’ä¾èµ–ï¼ŒSpring é€šè¿‡ä¸‰çº§ç¼“å­˜æœºåˆ¶è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜ã€‚

2. ä¸ºä»€ä¹ˆä¸‰çº§ç¼“å­˜å¯ä»¥è§£å†³å¾ªç¯ä¾èµ–ï¼Ÿ
   - **ä¸€å¥è¯ç­”æ¡ˆ**ï¼šä¸‰çº§ç¼“å­˜é€šè¿‡æ—©æœŸæš´éœ²å¯¹è±¡å’Œä»£ç†å¯¹è±¡æ‰“ç ´å¾ªç¯ä¾èµ–é“¾ã€‚
   - **æ·±å…¥å›ç­”**ï¼šå¾ªç¯ä¾èµ–çš„æ ¸å¿ƒé—®é¢˜æ˜¯ä¸¤ä¸ª Bean åœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­ç›¸äº’ç­‰å¾…å¯¹æ–¹å®Œæˆã€‚ä¸‰çº§ç¼“å­˜é€šè¿‡ä»¥ä¸‹æ–¹å¼è§£å†³ï¼š
     - **ä¸€çº§ç¼“å­˜**ï¼šå­˜æ”¾å®Œå…¨åˆå§‹åŒ–çš„ Beanï¼Œç¡®ä¿æ­£å¸¸ä¾èµ–æ³¨å…¥ã€‚
     - **äºŒçº§ç¼“å­˜**ï¼šå­˜æ”¾æœªå®Œæˆåˆå§‹åŒ–ä½†å·²å®ä¾‹åŒ–çš„ Beanï¼Œä¾›å…¶ä»– Bean æå‰ä½¿ç”¨ã€‚
     - **ä¸‰çº§ç¼“å­˜**ï¼šå­˜æ”¾ä»£ç†å¯¹è±¡ï¼Œæ”¯æŒ AOP åœºæ™¯ä¸‹çš„å¾ªç¯ä¾èµ–ã€‚é€šè¿‡è¿™ç§æœºåˆ¶ï¼ŒSpring èƒ½å¤Ÿåœ¨ Bean åˆå§‹åŒ–è¿‡ç¨‹ä¸­æå‰æš´éœ²éƒ¨åˆ†çŠ¶æ€ï¼Œä»è€Œæ‰“ç ´å¾ªç¯ä¾èµ–é“¾ã€‚

**ğŸŒŸ é‡ç‚¹æé†’**
- **è¦ç‚¹ä¸€**ï¼šå¾ªç¯ä¾èµ–é€šè¿‡ä¸‰çº§ç¼“å­˜è§£å†³ã€‚
- **è¦ç‚¹äºŒ**ï¼šä¸‰çº§ç¼“å­˜åŒ…æ‹¬å•ä¾‹æ± ã€æ—©æœŸæš´éœ²å¯¹è±¡å’Œä»£ç†å¯¹è±¡ã€‚
- **è¦ç‚¹ä¸‰**ï¼šSpring çš„ä¸‰çº§ç¼“å­˜æœºåˆ¶æ”¯æŒ AOP åœºæ™¯ã€‚

**ğŸ“ å®è·µç»éªŒ**
```java
@Component
public class BeanA {
    @Autowired
    private BeanB beanB;

    public void print() {
        System.out.println("BeanA using BeanB: " + beanB);
    }
}

@Component
public class BeanB {
    @Autowired
    private BeanA beanA;

    public void print() {
        System.out.println("BeanB using BeanA: " + beanA);
    }
}
```

**ğŸ”§ å·¥å…·è¾…åŠ©**
```mermaid
graph TD
    A[å¾ªç¯ä¾èµ–è§£å†³] --> B[ä¸‰çº§ç¼“å­˜]
    B --> C[ä¸€çº§ç¼“å­˜]
    B --> D[äºŒçº§ç¼“å­˜]
    B --> E[ä¸‰çº§ç¼“å­˜]
    C --> F[å•ä¾‹æ± ]
    D --> G[æ—©æœŸæš´éœ²å¯¹è±¡]
    E --> H[ä»£ç†å¯¹è±¡]
```

------
#### **4. ä½œç”¨åŸŸï¼š`singleton`ï¼ˆé»˜è®¤ï¼‰ã€`prototype`ã€`request`ã€`session`**
**ğŸ”‘ çŸ¥è¯†ç‚¹è¯¦è§£**
- **ä½œç”¨åŸŸç±»å‹**ï¼š
  - **`singleton`**ï¼šæ¯ä¸ª Spring å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªå…±äº«å®ä¾‹ï¼Œé»˜è®¤ä½œç”¨åŸŸã€‚
  - **`prototype`**ï¼šæ¯æ¬¡è¯·æ±‚éƒ½ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ã€‚
  - **`request`**ï¼šæ¯ä¸ª HTTP è¯·æ±‚åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œä»…é€‚ç”¨äº Web åº”ç”¨ã€‚
  - **`session`**ï¼šæ¯ä¸ª HTTP ä¼šè¯åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œä»…é€‚ç”¨äº Web åº”ç”¨ã€‚
    ğŸ‘‰ **æ³¨æ„**ï¼šä½œç”¨åŸŸçš„é€‰æ‹©å½±å“ Bean çš„ç”Ÿå‘½å‘¨æœŸå’Œæ€§èƒ½ã€‚

**ğŸ”¥ é¢è¯•é«˜é¢‘é¢˜**
1. Spring ä¸­çš„ä½œç”¨åŸŸæœ‰å“ªäº›ï¼Ÿå®ƒä»¬çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
   - **ä¸€å¥è¯ç­”æ¡ˆ**ï¼šSpring æ”¯æŒ `singleton`ã€`prototype`ã€`request` å’Œ `session` ä½œç”¨åŸŸï¼Œåˆ†åˆ«å¯¹åº”ä¸åŒç”Ÿå‘½å‘¨æœŸã€‚
   - **æ·±å…¥å›ç­”**ï¼šSpring çš„ä½œç”¨åŸŸç±»å‹åŠå…¶åŒºåˆ«å¦‚ä¸‹ï¼š
     - **`singleton`**ï¼šæ¯ä¸ª Spring å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªå…±äº«å®ä¾‹ï¼Œé€‚åˆæ— çŠ¶æ€çš„ Beanã€‚
     - **`prototype`**ï¼šæ¯æ¬¡è¯·æ±‚éƒ½ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼Œé€‚åˆæœ‰çŠ¶æ€çš„ Beanã€‚
     - **`request`**ï¼šæ¯ä¸ª HTTP è¯·æ±‚åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œä»…é€‚ç”¨äº Web åº”ç”¨ã€‚
     - **`session`**ï¼šæ¯ä¸ª HTTP ä¼šè¯åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œä»…é€‚ç”¨äº Web åº”ç”¨ã€‚
     ä¾‹å¦‚ï¼š
     ```java
     @Scope("prototype")
     @Component
     public class PrototypeBean {
     }
     
     @Scope("request")
     @Component
     public class RequestBean {
     }
     ```

2. å¦‚ä½•é€‰æ‹©åˆé€‚çš„ä½œç”¨åŸŸï¼Ÿ
   - **ä¸€å¥è¯ç­”æ¡ˆ**ï¼šæ ¹æ® Bean çš„ç”¨é€”å’Œç”Ÿå‘½å‘¨æœŸé€‰æ‹©ä½œç”¨åŸŸã€‚
   - **æ·±å…¥å›ç­”**ï¼šé€‰æ‹©ä½œç”¨åŸŸæ—¶éœ€è¦è€ƒè™‘ä»¥ä¸‹å› ç´ ï¼š
     - **æ— çŠ¶æ€ Bean**ï¼šä½¿ç”¨ `singleton`ï¼Œæå‡æ€§èƒ½ã€‚
     - **æœ‰çŠ¶æ€ Bean**ï¼šä½¿ç”¨ `prototype`ï¼Œé¿å…å…±äº«çŠ¶æ€ã€‚
     - **Web åº”ç”¨**ï¼šæ ¹æ®è¯·æ±‚æˆ–ä¼šè¯éœ€æ±‚é€‰æ‹© `request` æˆ– `session`ã€‚
     - **çº¿ç¨‹å®‰å…¨**ï¼š`singleton` éœ€ç¡®ä¿çº¿ç¨‹å®‰å…¨ï¼Œ`prototype` åˆ™æ— éœ€æ‹…å¿ƒã€‚

**ğŸŒŸ é‡ç‚¹æé†’**
- **è¦ç‚¹ä¸€**ï¼š`singleton` æ˜¯é»˜è®¤ä½œç”¨åŸŸï¼Œé€‚åˆæ— çŠ¶æ€ Beanã€‚
- **è¦ç‚¹äºŒ**ï¼š`prototype` æ¯æ¬¡è¯·æ±‚åˆ›å»ºæ–°å®ä¾‹ï¼Œé€‚åˆæœ‰çŠ¶æ€ Beanã€‚
- **è¦ç‚¹ä¸‰**ï¼š`request` å’Œ `session` ä»…é€‚ç”¨äº Web åº”ç”¨ã€‚

**ğŸ“ å®è·µç»éªŒ**
```java
@Scope("singleton")
@Component
public class SingletonBean {
}

@Scope("prototype")
@Component
public class PrototypeBean {
}

@Scope("request")
@Component
public class RequestBean {
}

@Scope("session")
@Component
public class SessionBean {
}
```

**ğŸ”§ å·¥å…·è¾…åŠ©**
```mermaid
graph TD
    A[ä½œç”¨åŸŸ] --> B[singleton]
    A --> C[prototype]
    A --> D[request]
    A --> E[session]
    B --> F[å…±äº«å®ä¾‹]
    C --> G[æ¯æ¬¡æ–°å»º]
    D --> H[HTTP è¯·æ±‚]
    E --> I[HTTP ä¼šè¯]
```

------
#### **5. `@Autowired` ä¸ `@Resource` åŒºåˆ«**
**ğŸ”‘ çŸ¥è¯†ç‚¹è¯¦è§£**
- **`@Autowired`**ï¼š
  - **å®šä¹‰**ï¼šSpring æä¾›çš„æ³¨è§£ï¼Œç”¨äºæŒ‰ç±»å‹æ³¨å…¥ä¾èµ–ã€‚
  - **æ ¸å¿ƒæ€æƒ³**ï¼šä¼˜å…ˆæŒ‰ç±»å‹åŒ¹é…ï¼Œè‹¥å­˜åœ¨å¤šä¸ªå€™é€‰è€…ï¼Œåˆ™ç»“åˆ `@Qualifier` æŒ‡å®šåç§°ã€‚
    ğŸ‘‰ **æ³¨æ„**ï¼š`@Autowired` æ”¯æŒæ„é€ å‡½æ•°ã€Setter æ–¹æ³•å’Œå­—æ®µæ³¨å…¥ã€‚
- **`@Resource`**ï¼š
  - **å®šä¹‰**ï¼šJSR-250 æ ‡å‡†æ³¨è§£ï¼Œç”¨äºæŒ‰åç§°æ³¨å…¥ä¾èµ–ã€‚
  - **æ ¸å¿ƒæ€æƒ³**ï¼šä¼˜å…ˆæŒ‰åç§°åŒ¹é…ï¼Œè‹¥æœªæ‰¾åˆ°åç§°åŒ¹é…çš„ Beanï¼Œåˆ™æŒ‰ç±»å‹åŒ¹é…ã€‚
    ğŸ‘‰ **æ³¨æ„**ï¼š`@Resource` é€šå¸¸ç”¨äºå­—æ®µæ³¨å…¥ã€‚

**ğŸ”¥ é¢è¯•é«˜é¢‘é¢˜**
1. `@Autowired` å’Œ `@Resource` çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
   - **ä¸€å¥è¯ç­”æ¡ˆ**ï¼š`@Autowired` æŒ‰ç±»å‹æ³¨å…¥ï¼Œ`@Resource` æŒ‰åç§°æ³¨å…¥ã€‚
   - **æ·±å…¥å›ç­”**ï¼š`@Autowired` å’Œ `@Resource` çš„ä¸»è¦åŒºåˆ«å¦‚ä¸‹ï¼š
     - **`@Autowired`**ï¼šSpring æä¾›çš„æ³¨è§£ï¼Œä¼˜å…ˆæŒ‰ç±»å‹åŒ¹é…ä¾èµ–ã€‚å¦‚æœå­˜åœ¨å¤šä¸ªå€™é€‰è€…ï¼Œéœ€ç»“åˆ `@Qualifier` æŒ‡å®šåç§°ã€‚
     - **`@Resource`**ï¼šJSR-250 æ ‡å‡†æ³¨è§£ï¼Œä¼˜å…ˆæŒ‰åç§°åŒ¹é…ä¾èµ–ã€‚è‹¥æœªæ‰¾åˆ°åç§°åŒ¹é…çš„ Beanï¼Œåˆ™æŒ‰ç±»å‹åŒ¹é…ã€‚
     ä¾‹å¦‚ï¼š
     ```java
     @Component
     public class MyService {
         @Autowired
         @Qualifier("userService")
         private UserService userService;
     
         @Resource(name = "emailService")
         private EmailService emailService;
     }
     ```

2. å¦‚ä½•é€‰æ‹© `@Autowired`å’Œ `@Resource`ï¼Ÿ

      - **ä¸€å¥è¯ç­”æ¡ˆ**ï¼šæ ¹æ®æ³¨å…¥éœ€æ±‚é€‰æ‹©ï¼Œ`@Autowired` é€‚åˆæŒ‰ç±»å‹æ³¨å…¥ï¼Œ`@Resource` é€‚åˆæŒ‰åç§°æ³¨å…¥ã€‚
      - **æ·±å…¥å›ç­”**ï¼šé€‰æ‹© `@Autowired` æˆ– `@Resource` æ—¶éœ€è¦è€ƒè™‘ä»¥ä¸‹å› ç´ ï¼š
        - **æŒ‰ç±»å‹æ³¨å…¥**ï¼šå¦‚æœä¾èµ–å…³ç³»å¯ä»¥é€šè¿‡ç±»å‹å”¯ä¸€ç¡®å®šï¼Œåˆ™ä½¿ç”¨ `@Autowired`ã€‚
        - **æŒ‰åç§°æ³¨å…¥**ï¼šå¦‚æœéœ€è¦æ˜ç¡®æŒ‡å®š Bean çš„åç§°ï¼ˆå¦‚å­˜åœ¨å¤šä¸ªåŒç±»å‹çš„ Beanï¼‰ï¼Œåˆ™ä½¿ç”¨ `@Resource`ã€‚
        - **æ ‡å‡†å…¼å®¹æ€§**ï¼š`@Resource` æ˜¯ JSR-250 æ ‡å‡†æ³¨è§£ï¼Œå…·æœ‰æ›´å¥½çš„è·¨æ¡†æ¶å…¼å®¹æ€§ï¼›è€Œ `@Autowired` æ˜¯ Spring ç‰¹æœ‰çš„æ³¨è§£ã€‚
        - **çµæ´»æ€§**ï¼š`@Autowired` æ”¯æŒæ„é€ å‡½æ•°ã€Setter æ–¹æ³•å’Œå­—æ®µæ³¨å…¥ï¼Œè€Œ `@Resource` é€šå¸¸ç”¨äºå­—æ®µæ³¨å…¥ã€‚

   **ğŸŒŸ é‡ç‚¹æé†’**
   - **è¦ç‚¹ä¸€**ï¼š`@Autowired` æŒ‰ç±»å‹æ³¨å…¥ï¼Œ`@Resource` æŒ‰åç§°æ³¨å…¥ã€‚
   - **è¦ç‚¹äºŒ**ï¼š`@Autowired` æ˜¯ Spring ç‰¹æœ‰æ³¨è§£ï¼Œ`@Resource` æ˜¯ JSR-250 æ ‡å‡†æ³¨è§£ã€‚
   - **è¦ç‚¹ä¸‰**ï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ³¨è§£ä»¥æå‡ä»£ç çš„å¯è¯»æ€§å’Œçµæ´»æ€§ã€‚

   **ğŸ“ å®è·µç»éªŒ**
   ```java
   @Component
   public class MyService {
       @Autowired
       private UserService userService;
   
       @Resource(name = "emailService")
       private EmailService emailService;
   
       public void execute() {
           userService.process();
           emailService.send();
       }
   }
   ```

   **ğŸ”§ å·¥å…·è¾…åŠ©**
   ```mermaid
   graph TD
       A[ä¾èµ–æ³¨å…¥æ³¨è§£] --> B[Autowired]
       A --> C[Resource]
       B --> D[æŒ‰ç±»å‹æ³¨å…¥]
       B --> E[æ”¯æŒæ„é€ å‡½æ•°/Setter/å­—æ®µ]
       C --> F[æŒ‰åç§°æ³¨å…¥]
       C --> G[JSR-250 æ ‡å‡†]
   ```

   ------
   #### **ğŸ’¡ å¤ä¹ å»ºè®®**
   1. æŒæ¡ IoC å’Œ DI çš„æ ¸å¿ƒæ€æƒ³åŠå…¶åœ¨ Spring ä¸­çš„åº”ç”¨ã€‚
   2. ç†è§£ Bean ç”Ÿå‘½å‘¨æœŸçš„å„ä¸ªé˜¶æ®µåŠå…¶è‡ªå®šä¹‰æ–¹æ³•ã€‚
   3. å­¦ä¹ ä¸‰çº§ç¼“å­˜æœºåˆ¶ï¼Œç†è§£å…¶å¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜ã€‚
   4. ç†Ÿæ‚‰ Spring ä¸­çš„ä½œç”¨åŸŸç±»å‹åŠå…¶é€‚ç”¨åœºæ™¯ã€‚
   5. åŒºåˆ† `@Autowired` å’Œ `@Resource` çš„ä½¿ç”¨åœºæ™¯åŠå·®å¼‚ã€‚
